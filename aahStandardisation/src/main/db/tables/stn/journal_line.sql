create table stn.journal_line
(
  row_sid                  number ( 38 , 0 )     generated by default as identity not null,
  CORRELATION_ID         RAW(16)                NOT NULL,
  ACCOUNTING_DT          DATE                   NOT NULL,
  LE_ID                  NUMBER(38)             NOT NULL,
  ACCT_CD                VARCHAR2(20 CHAR)      NOT NULL,
  BASIS_CD               VARCHAR2(20 CHAR)      NOT NULL,
  LEDGER_CD              VARCHAR2(20 CHAR)      NOT NULL,
  POLICY_ID              VARCHAR2(20 CHAR)      NOT NULL,
  STREAM_ID              NUMBER(38)             NOT NULL,
  AFFILIATE_LE_ID        NUMBER(38),
  COUNTERPARTY_LE_ID     NUMBER(38),
  DEPT_CD                VARCHAR2(20 CHAR)      NOT NULL,
  BUSINESS_EVENT_TYP     VARCHAR2(30 CHAR)      NOT NULL,
  JOURNAL_DESCR          VARCHAR2(100 CHAR)     NOT NULL,
  CHARTFIELD_1           VARCHAR2(20 CHAR)      NOT NULL,
  ACCIDENT_YR            NUMBER(4),
  UNDERWRITING_YR        NUMBER(4)              NOT NULL,
  TAX_JURISDICTION_CD    VARCHAR2(2 CHAR)       NOT NULL,
  EVENT_SEQ_ID           NUMBER(38)             NOT NULL,
  BUSINESS_TYP           VARCHAR2(30 CHAR)      NOT NULL,
  PREMIUM_TYP            VARCHAR2(30 CHAR)      DEFAULT 'NVS'                 NOT NULL,
  OWNER_LE_ID            NUMBER(38)             NOT NULL,
  ULTIMATE_PARENT_LE_ID  NUMBER(38)             NOT NULL,
  EVENT_TYP              VARCHAR2(30 CHAR)      DEFAULT 'NVS',
  TRANSACTION_CCY        VARCHAR2(3 CHAR)       NOT NULL,
  TRANSACTION_AMT        NUMBER(38,9)           NOT NULL,
  FUNCTIONAL_CCY         VARCHAR2(3 CHAR)       NOT NULL,
  FUNCTIONAL_AMT         NUMBER(38,9)           NOT NULL,
  REPORTING_CCY          VARCHAR2(3 CHAR)       NOT NULL,
  REPORTING_AMT          NUMBER(38,9)           NOT NULL,
  EXECUTION_TYP          VARCHAR2(30 CHAR)      NOT NULL,
  LPG_ID                 NUMBER(38)             DEFAULT 1                     NOT NULL,
  EVENT_STATUS           VARCHAR2(1 CHAR)       DEFAULT 'U'                   NOT NULL,
  FEED_UUID              RAW(16)                NOT NULL,
  NO_RETRIES             NUMBER(38)             DEFAULT 0                     NOT NULL,
  STEP_RUN_SID           NUMBER(38)             DEFAULT 0                     NOT NULL,
   constraint pk_jl                     primary key ( row_sid )
,   constraint uk_jl                     unique      (ACCOUNTING_DT, LE_ID, ACCT_CD, LEDGER_CD, STREAM_ID)
,   constraint ck_business_typ            check       ( business_typ      in ( 'A','D','C','CA','AA'))
,   constraint ck_premium_typ             check       ( premium_typ       in ( 'A','S','M','I','F','L') )
);