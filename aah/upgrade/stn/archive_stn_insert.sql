delete from stn.param_set_item where param_set_id in (7,8,9,10);
delete from stn.step_run_param where step_run_sid in (select step_run_sid from step_run where step_id in (52,53,54,55));
delete from stn.step_run_state where step_run_sid in (select step_run_sid from step_run where step_id in (52,53,54,55));
delete from stn.step_run where step_id in (52,53,54,55);
delete from stn.step where step_cd like 'parchive%';
delete from param_set where param_set_id in (7,8,9,10);
delete from stn.step_run where step_id in (52,53,54,55);
delete from stn.process where process_name = 'parchive';
insert into stn.process ( process_id , process_name , project_id , process_type_id , input_node_name ) values ( 52 , 'parchive'                                  , ( select project_id from stn.project where project_name = 'Utilities'                      and folder_id = ( select folder_id from stn.execution_folder where folder_name = 'custom' ) )       , ( select process_type_id from stn.process_type where process_type_cd = 'Microflow' ) , 'Source' );
insert into stn.param_set ( param_set_id , param_set_cd ) values ( 7 , 'utilities-fdr1' );
insert into stn.param_set ( param_set_id , param_set_cd ) values ( 8 , 'utilities-stn1' );
insert into stn.param_set ( param_set_id , param_set_cd ) values ( 9 , 'utilities-fdr2' );
insert into stn.param_set ( param_set_id , param_set_cd ) values ( 10 , 'utilities-stn2' );
insert into stn.param_set_item ( param_set_id , param_set_item_cd , param_set_item_val ) values ( ( select param_set_id from stn.param_set where param_set_cd = 'utilities-fdr1' )                    , 'lpg_id'             , '1' );
insert into stn.param_set_item ( param_set_id , param_set_item_cd , param_set_item_val ) values ( ( select param_set_id from stn.param_set where param_set_cd = 'utilities-fdr1' )                    , 'archive_group'      , '1' );
insert into stn.param_set_item ( param_set_id , param_set_item_cd , param_set_item_val ) values ( ( select param_set_id from stn.param_set where param_set_cd = 'utilities-stn1' )                    , 'lpg_id'             , '1' );
insert into stn.param_set_item ( param_set_id , param_set_item_cd , param_set_item_val ) values ( ( select param_set_id from stn.param_set where param_set_cd = 'utilities-stn1' )                    , 'archive_group'      , '2' );
insert into stn.param_set_item ( param_set_id , param_set_item_cd , param_set_item_val ) values ( ( select param_set_id from stn.param_set where param_set_cd = 'utilities-fdr2' )                    , 'lpg_id'             , '2' );
insert into stn.param_set_item ( param_set_id , param_set_item_cd , param_set_item_val ) values ( ( select param_set_id from stn.param_set where param_set_cd = 'utilities-fdr2' )                    , 'archive_group'      , '1' );
insert into stn.param_set_item ( param_set_id , param_set_item_cd , param_set_item_val ) values ( ( select param_set_id from stn.param_set where param_set_cd = 'utilities-stn2' )                    , 'lpg_id'             , '2' );
insert into stn.param_set_item ( param_set_id , param_set_item_cd , param_set_item_val ) values ( ( select param_set_id from stn.param_set where param_set_cd = 'utilities-stn2' )                    , 'archive_group'      , '2' );
insert into stn.step ( step_id , step_cd , process_id , param_set_id ) values ( 52 , 'parchiveFDR1'                     , ( select process_id from stn.process where project_id = ( select project_id from stn.project where project_name = 'Utilities'                      and folder_id = ( select folder_id from stn.execution_folder where folder_name = 'custom' ) ) and process_name = 'parchive'                                 and process_type_id = ( select process_type_id from stn.process_type where process_type_cd = 'Microflow' ) ) , ( select param_set_id from stn.param_set where param_set_cd = 'utilities-fdr1' ) );
insert into stn.step ( step_id , step_cd , process_id , param_set_id ) values ( 53 , 'parchiveSTN1'                     , ( select process_id from stn.process where project_id = ( select project_id from stn.project where project_name = 'Utilities'                      and folder_id = ( select folder_id from stn.execution_folder where folder_name = 'custom' ) ) and process_name = 'parchive'                                 and process_type_id = ( select process_type_id from stn.process_type where process_type_cd = 'Microflow' ) ) , ( select param_set_id from stn.param_set where param_set_cd = 'utilities-stn1' ) );
insert into stn.step ( step_id , step_cd , process_id , param_set_id ) values ( 54 , 'parchiveFDR2'                     , ( select process_id from stn.process where project_id = ( select project_id from stn.project where project_name = 'Utilities'                      and folder_id = ( select folder_id from stn.execution_folder where folder_name = 'custom' ) ) and process_name = 'parchive'                                 and process_type_id = ( select process_type_id from stn.process_type where process_type_cd = 'Microflow' ) ) , ( select param_set_id from stn.param_set where param_set_cd = 'utilities-fdr2' ) );
insert into stn.step ( step_id , step_cd , process_id , param_set_id ) values ( 55 , 'parchiveSTN2'                     , ( select process_id from stn.process where project_id = ( select project_id from stn.project where project_name = 'Utilities'                      and folder_id = ( select folder_id from stn.execution_folder where folder_name = 'custom' ) ) and process_name = 'parchive'                                 and process_type_id = ( select process_type_id from stn.process_type where process_type_cd = 'Microflow' ) ) , ( select param_set_id from stn.param_set where param_set_cd = 'utilities-stn2' ) );
commit;
